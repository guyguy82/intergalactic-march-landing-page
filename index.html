<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intergalactic March | Alexandr Misko</title>
  <meta name="description" content="Intergalactic March by Alexandr Misko. Watch the video, stream on your platform, and explore the official tablature.">
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@400;500;600;700&display=swap");

    :root {
      --bg-0: #08090d;
      --bg-1: #12151f;
      --bg-2: #1a1f2e;
      --panel: rgba(14, 18, 28, 0.86);
      --panel-border: rgba(255, 255, 255, 0.12);
      --text: #f0f0f2;
      --muted: #c2c5d1;
      --accent: #b9473f;
      --accent-2: #e06154;
      --success: #5ccc95;
      --warning: #dd8f55;
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
      --radius-xl: 22px;
      --radius-lg: 16px;
      --radius-sm: 10px;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      background:
        radial-gradient(1000px 460px at 14% 0%, rgba(184, 71, 63, 0.17), transparent 60%),
        radial-gradient(760px 340px at 88% 12%, rgba(116, 38, 33, 0.24), transparent 55%),
        linear-gradient(180deg, var(--bg-1), var(--bg-0) 48%, #06070b);
      color: var(--text);
      font-family: "Rajdhani", sans-serif;
      min-height: 100%;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.19;
      background-image:
        repeating-linear-gradient(
          115deg,
          transparent 0 28px,
          rgba(255, 255, 255, 0.03) 28px 30px
        );
      z-index: 1;
    }

    .page {
      position: relative;
      z-index: 2;
      width: min(1180px, calc(100% - 2.2rem));
      margin: 1.2rem auto 7.5rem;
    }

    .hero {
      position: relative;
      display: grid;
      grid-template-columns: 1.08fr 0.92fr;
      gap: 1rem;
      border-radius: var(--radius-xl);
      border: 1px solid var(--panel-border);
      box-shadow: var(--shadow);
      overflow: hidden;
      background: linear-gradient(140deg, rgba(20, 25, 38, 0.95), rgba(9, 12, 18, 0.95));
      margin-top: 1.1rem;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: transparent;
      pointer-events: none;
    }

    .hero-copy {
      padding: 2.15rem 1.8rem 2rem;
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 0.85rem;
    }

    .eyebrow {
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--muted);
      font-weight: 600;
      font-size: 0.95rem;
    }

    .title {
      margin: 0;
      font-family: "Bebas Neue", sans-serif;
      font-size: clamp(3rem, 9vw, 6.3rem);
      line-height: 0.88;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: #f8eaea;
      text-shadow: 0 8px 40px rgba(185, 71, 63, 0.3);
    }

    .artist {
      margin: 0;
      font-size: clamp(1.3rem, 3.4vw, 2rem);
      color: #f6f7fa;
      font-weight: 700;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      max-width: 36ch;
      font-size: 1.15rem;
      color: var(--muted);
      line-height: 1.3;
    }

    .button-row {
      margin-top: 0.55rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.72rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      border-radius: 999px;
      border: 1px solid transparent;
      padding: 0.66rem 1.1rem;
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.02em;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
      cursor: pointer;
      min-height: 42px;
    }

    .btn:hover,
    .btn:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.26);
      outline: none;
    }

    .btn-primary {
      color: #fff9f9;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
    }

    .btn-secondary {
      color: #f8f8fb;
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.2);
    }

    .hero-art {
      position: relative;
      min-height: 360px;
      background:
        radial-gradient(100% 80% at 70% 40%, rgba(224, 97, 84, 0.17), transparent 60%),
        url("assets/intergalactic-march.jpg") center 22% / cover no-repeat;
    }

    .hero-art::before {
      content: "";
      position: absolute;
      inset: 0;
      background: transparent;
    }

    .dual-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.15rem;
      margin-top: 1.15rem;
    }

    .dual-section .section {
      margin-top: 0;
    }

    .section {
      margin-top: 1.15rem;
      border-radius: var(--radius-lg);
      border: 1px solid var(--panel-border);
      background: var(--panel);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .section-inner {
      padding: 1.25rem;
    }

    .section-title {
      margin: 0 0 0.75rem;
      font-family: "Bebas Neue", sans-serif;
      letter-spacing: 0.05em;
      font-size: clamp(1.85rem, 4vw, 2.6rem);
      color: #f1f3f8;
      text-transform: uppercase;
    }

    .section-kicker {
      margin: 0 0 0.95rem;
      color: var(--muted);
      font-size: 1.05rem;
    }

    .video-stream-layout {
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 1rem;
      align-items: start;
    }

    .video-wrap {
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: var(--radius-sm);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background:
        linear-gradient(135deg, rgba(37, 43, 59, 0.7), rgba(26, 31, 45, 0.7)),
        radial-gradient(300px 180px at 76% 30%, rgba(185, 71, 63, 0.15), transparent 70%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .video-wrap iframe {
      width: 100%;
      height: 100%;
      border: 0;
    }

    .video-fallback {
      text-align: center;
      padding: 1rem;
      color: var(--muted);
      font-size: 1rem;
    }

    .stream-grid {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.62rem;
    }

    .stream-link {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.45rem;
      width: 100%;
      border-radius: 11px;
      text-decoration: none;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(255, 255, 255, 0.05);
      color: #f8f9fc;
      padding: 0.67rem 0.74rem;
      font-size: 0.98rem;
      font-weight: 600;
      transition: transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
      min-height: 48px;
    }

    .stream-link:hover,
    .stream-link:focus-visible {
      transform: translateY(-2px);
      border-color: rgba(224, 97, 84, 0.65);
      background: rgba(224, 97, 84, 0.12);
      outline: none;
    }

    .stream-link.disabled {
      opacity: 0.7;
      pointer-events: none;
      border-style: dashed;
    }

    .status-pill {
      color: #f6b6b0;
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    .countdown {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.65rem;
      margin-top: 0.45rem;
    }

    .countdown-item {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: linear-gradient(170deg, rgba(46, 52, 74, 0.52), rgba(22, 26, 38, 0.72));
      padding: 0.75rem 0.45rem;
      text-align: center;
    }

    .count-value {
      font-family: "Bebas Neue", sans-serif;
      font-size: clamp(1.8rem, 5vw, 2.8rem);
      line-height: 0.9;
      letter-spacing: 0.04em;
      color: #faf7f7;
    }

    .count-label {
      margin-top: 0.2rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      color: var(--muted);
      font-size: 0.86rem;
      font-weight: 700;
    }

    .countdown-state {
      margin: 0.75rem 0 0;
      color: var(--muted);
      font-size: 1rem;
    }

    .tab-layout {
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 0.95rem;
      align-items: start;
    }

    .tab-copy p {
      margin: 0 0 0.75rem;
      color: var(--muted);
      font-size: 1.02rem;
      line-height: 1.34;
    }

    .tab-points {
      margin: 0 0 1rem;
      padding-left: 1.05rem;
    }

    .tab-points li {
      margin-bottom: 0.48rem;
      color: #dce0ea;
      line-height: 1.3;
      font-size: 1rem;
    }

    .tab-art {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: linear-gradient(140deg, rgba(22, 27, 38, 0.84), rgba(13, 16, 25, 0.92));
      overflow: hidden;
      min-height: 0;
      aspect-ratio: 4 / 3;
      max-width: 560px;
      justify-self: end;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.45rem;
    }

    .tab-art img {
      display: block;
      width: 100%;
      height: auto;
      max-height: 100%;
      object-fit: contain;
      border-radius: 8px;
      background: #0b0e16;
    }

    .first-single {
      display: grid;
      grid-template-columns: 94px 1fr;
      gap: 0.95rem;
      align-items: center;
    }

    .first-single img {
      width: 94px;
      height: 94px;
      border-radius: 12px;
      object-fit: cover;
      border: 1px solid rgba(255, 255, 255, 0.25);
    }

    .first-single p {
      margin: 0 0 0.4rem;
      color: var(--muted);
      font-size: 1rem;
    }

    .subscribe-wrap {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.75rem;
    }

    .subscribe-headline {
      margin: 0;
      font-size: clamp(1.1rem, 2.7vw, 1.42rem);
      font-weight: 700;
      color: #f3f5fb;
    }

    .subscribe-subline {
      margin: 0;
      font-size: clamp(0.92rem, 2vw, 1.02rem);
      color: var(--muted);
      line-height: 1.3;
    }

    .honeypot {
      position: absolute;
      left: -10000px;
      width: 1px;
      height: 1px;
      overflow: hidden;
      opacity: 0;
      pointer-events: none;
    }

    .subscribe-form {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.6rem;
      max-width: 680px;
    }

    .subscribe-form input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.26);
      background: rgba(255, 255, 255, 0.08);
      color: #f7f8fc;
      font-size: 1rem;
      padding: 0.68rem 0.95rem;
      font-family: inherit;
    }

    .subscribe-form input::placeholder {
      color: #bec5d3;
    }

    .subscribe-form input:focus-visible {
      outline: 2px solid rgba(224, 97, 84, 0.5);
      outline-offset: 1px;
    }

    .form-note {
      margin: 0;
      min-height: 1.2em;
      font-size: 0.96rem;
      color: var(--muted);
    }

    .form-note.error {
      color: var(--warning);
    }

    .form-note.success {
      color: var(--success);
    }

    .share-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.58rem;
      align-items: center;
    }

    .share-row .btn {
      min-width: 114px;
      min-height: 40px;
      font-size: 0.94rem;
      padding: 0.55rem 0.85rem;
    }

    .share-row .btn-ghost {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #f4f6fb;
    }

    footer {
      margin: 1.2rem 0 0;
      padding: 1rem 0 0.5rem;
      color: #b8bcc9;
      font-size: 0.93rem;
      border-top: 1px solid rgba(255, 255, 255, 0.12);
    }

    .sticky-mobile {
      position: fixed;
      left: 0.7rem;
      right: 0.7rem;
      bottom: 0.6rem;
      z-index: 50;
      display: none;
    }

    .sticky-mobile .btn {
      width: 100%;
      min-height: 48px;
      font-size: 1.02rem;
    }

    .countdown-chip {
      position: fixed;
      right: 0.9rem;
      bottom: 4rem;
      z-index: 48;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: linear-gradient(150deg, rgba(18, 23, 35, 0.95), rgba(11, 14, 23, 0.95));
      border-radius: 14px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.34);
      width: min(308px, calc(100vw - 1.2rem));
      overflow: hidden;
      backdrop-filter: blur(6px);
    }

    .countdown-chip-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.6rem;
      padding: 0.52rem 0.68rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .countdown-chip-title {
      margin: 0;
      color: #eef0f6;
      font-size: 0.88rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      font-weight: 700;
    }

    .countdown-chip-summary {
      font-family: "Bebas Neue", sans-serif;
      font-size: 1.26rem;
      letter-spacing: 0.04em;
      color: #f8f7fb;
      line-height: 1;
    }

    .countdown-chip-toggle {
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.07);
      color: #eff1f7;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 700;
      min-height: 32px;
      padding: 0.28rem 0.72rem;
      cursor: pointer;
    }

    .countdown-chip-toggle:focus-visible {
      outline: 2px solid rgba(224, 97, 84, 0.55);
      outline-offset: 1px;
    }

    .countdown-chip-panel {
      display: none;
      padding: 0.68rem 0.65rem 0.72rem;
    }

    .countdown-chip-panel.open {
      display: block;
    }

    .countdown-chip-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.4rem;
    }

    .countdown-chip-item {
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.05);
      text-align: center;
      padding: 0.36rem 0.22rem;
    }

    .countdown-chip-value {
      font-family: "Bebas Neue", sans-serif;
      font-size: 1.28rem;
      line-height: 0.92;
      letter-spacing: 0.04em;
      color: #faf9fd;
    }

    .countdown-chip-label {
      margin-top: 0.18rem;
      color: #c6cbda;
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      font-weight: 700;
    }

    .countdown-chip-state {
      margin: 0.48rem 0 0;
      color: #c9cedb;
      font-size: 0.84rem;
    }

    @media (max-width: 960px) {
      .hero,
      .video-stream-layout,
      .tab-layout {
        grid-template-columns: 1fr;
      }

      .hero-art {
        min-height: 0;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat, no-repeat !important;
        background-size: auto, contain !important;
        background-position: center, center top !important;
        background-color: #0b0e16;
        order: -1;
      }

      .stream-grid {
        grid-template-columns: 1fr 1fr;
      }

      .dual-section {
        grid-template-columns: 1fr;
      }

      .tab-art {
        max-width: none;
        aspect-ratio: auto;
      }
    }

    @media (max-width: 680px) {
      .page {
        width: min(1160px, calc(100% - 1rem));
        margin-bottom: 11rem;
      }

      .hero-copy,
      .section-inner {
        padding: 1rem;
      }

      .stream-grid {
        grid-template-columns: 1fr;
      }

      .countdown {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .subscribe-form {
        grid-template-columns: 1fr;
      }

      .sticky-mobile {
        display: block;
      }

      .countdown-chip {
        left: 0.7rem;
        right: 0.7rem;
        width: auto;
        bottom: 4.2rem;
      }

      .countdown-chip-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .fade-in {
      opacity: 0;
      transform: translateY(16px);
      animation: fadeIn 0.55s ease forwards;
    }

    .fade-in[data-delay="1"] { animation-delay: 0.08s; }
    .fade-in[data-delay="2"] { animation-delay: 0.16s; }
    .fade-in[data-delay="3"] { animation-delay: 0.24s; }
    .fade-in[data-delay="4"] { animation-delay: 0.3s; }
    .fade-in[data-delay="5"] { animation-delay: 0.36s; }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <main class="page">
    <header class="hero fade-in" data-delay="0">
      <div class="hero-copy">
        <p class="eyebrow">New single</p>
        <h1 class="title">Intergalactic March</h1>
        <p class="artist">Alexandr Misko</p>
        <p class="subtitle">Second single from the upcoming album <strong>Final Boss</strong>.</p>
        <div class="button-row">
          <a class="btn btn-primary" id="watchVideoBtn" href="#video">Watch video</a>
          <a class="btn btn-secondary" id="streamNowBtn" href="#streaming">Stream now</a>
        </div>
      </div>
      <div class="hero-art" aria-hidden="true"></div>
    </header>

    <section class="section fade-in" id="video" data-delay="1">
      <div class="section-inner">
        <h2 class="section-title">Watch + Stream</h2>
        <p class="section-kicker">Watch the official clip / Choose your platform.</p>
        <div class="video-stream-layout">
          <div class="video-wrap" id="videoContainer">
            <p class="video-fallback">Video link will appear here when you add the YouTube embed URL.</p>
          </div>
          <div id="streaming">
            <ul class="stream-grid" id="streamGrid" aria-label="Streaming links"></ul>
          </div>
        </div>
      </div>
    </section>

    <section class="section fade-in" data-delay="3">
      <div class="section-inner tab-layout">
        <div class="tab-copy">
          <h2 class="section-title">Official Tablature</h2>
          <p>“Intergalactic March” is written for prepared guitar and uses a DVD or CD between the strings for the rattling snare-style effect.</p>
          <ul class="tab-points">
            <li>Detailed notation of notes and percussive sounds, including hand and finger guidance.</li>
            <li>Setup details explain DVD placement between strings and how it changes instrument behavior.</li>
            <li>Package includes Guitar Pro 7, PDF, and the album version in WAV format.</li>
          </ul>
          <a class="btn btn-primary" id="buyTabBtn" href="#" target="_blank" rel="noopener noreferrer">Buy tablature</a>
        </div>
        <div class="tab-art" aria-label="Intergalactic March tablature style artwork">
          <img id="tabPreviewImage" src="assets/tablature-preview.jpg" alt="Intergalactic March tablature preview">
        </div>
      </div>
    </section>

    <div class="dual-section fade-in" data-delay="4">
      <section class="section">
        <div class="section-inner">
          <div class="first-single">
            <img id="umbrellaCover" src="assets/umbrella-street.jpg" alt="Umbrella Street single cover">
            <div>
              <p>Previously released single from the same album cycle:</p>
              <a class="btn btn-secondary" id="umbrellaBtn" href="#" target="_blank" rel="noopener noreferrer">Listen to Umbrella Street</a>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="section-inner">
          <div class="subscribe-wrap">
            <h2 class="subscribe-headline">Enter the world of Final Boss</h2>
            <p class="subscribe-subline">Unlock early previews, new single drops and exclusive guitar content</p>
            <form class="subscribe-form" id="subscribeForm" novalidate>
              <label for="websiteField" class="honeypot">Leave this field empty</label>
              <input id="websiteField" class="honeypot" name="website" type="text" autocomplete="off" tabindex="-1">
              <label for="emailInput" class="sr-only" style="position:absolute;left:-10000px;">Email address</label>
              <input id="emailInput" name="email" type="email" inputmode="email" autocomplete="email" placeholder="Enter your email" required>
              <button class="btn btn-primary" type="submit">Subscribe</button>
            </form>
            <p class="form-note" id="formNote" aria-live="polite"></p>
          </div>
        </div>
      </section>
    </div>

    <section class="section fade-in" data-delay="5">
      <div class="section-inner">
        <h2 class="section-title">Share</h2>
        <p class="section-kicker">Share this release or follow on socials.</p>
        <div class="share-row" id="shareRow">
          <button class="btn btn-ghost" type="button" data-share="x">Share on X</button>
          <button class="btn btn-ghost" type="button" data-share="facebook">Share on Facebook</button>
          <button class="btn btn-ghost" type="button" data-share="whatsapp">Share on WhatsApp</button>
          <button class="btn btn-ghost" type="button" data-share="copy">Copy link</button>
          <a class="btn btn-ghost" id="tiktokLink" href="#" target="_blank" rel="noopener noreferrer">TikTok</a>
        </div>
      </div>
    </section>

    <footer>
      © <span id="yearValue"></span> Alexandr Misko. All rights reserved.
    </footer>
  </main>

  <div class="sticky-mobile">
    <a class="btn btn-primary" id="stickyStreamBtn" href="#streaming">Stream now</a>
  </div>

  <aside class="countdown-chip" aria-label="Persistent countdown">
    <div class="countdown-chip-header">
      <div>
        <p class="countdown-chip-title">T-Minus</p>
        <div class="countdown-chip-summary" id="chipSummary">--d --h --m</div>
      </div>
      <button class="countdown-chip-toggle" id="chipToggleBtn" type="button" aria-expanded="false" aria-controls="chipPanel">Expand</button>
    </div>
    <div class="countdown-chip-panel" id="chipPanel">
      <div class="countdown-chip-grid" aria-hidden="true">
        <div class="countdown-chip-item">
          <div class="countdown-chip-value" id="chipDays">0</div>
          <div class="countdown-chip-label">Days</div>
        </div>
        <div class="countdown-chip-item">
          <div class="countdown-chip-value" id="chipHours">00</div>
          <div class="countdown-chip-label">Hours</div>
        </div>
        <div class="countdown-chip-item">
          <div class="countdown-chip-value" id="chipMinutes">00</div>
          <div class="countdown-chip-label">Minutes</div>
        </div>
        <div class="countdown-chip-item">
          <div class="countdown-chip-value" id="chipSeconds">00</div>
          <div class="countdown-chip-label">Seconds</div>
        </div>
      </div>
      <p class="countdown-chip-state" id="chipState">Preparing countdown...</p>
    </div>
  </aside>

  <script>
    const PAGE_CONFIG = {
      youtubeEmbedUrl: "https://www.youtube.com/embed/rQegbMlwnr0",
      albumReleaseISO: "2026-04-24T00:00:00Z",
      streamingLinks: {
        spotify: "https://open.spotify.com/album/7dr3o11DGgSMSsJ9kkjuns",
        appleMusic: "https://geo.music.apple.com/us/album/_/1876545918?app=music&at=1000lHKX&ct=linktree_http&i=1876545921&itscg=30200&itsct=lt_m&ls=1&mt=1",
        tidal: "https://listen.tidal.com/track/498109170",
        yandexMusic: "https://music.yandex.ru/track/148162963",
        itunes: "https://geo.music.apple.com/us/album/_/1876545918?app=itunes&at=1000lHKX&ct=linktree_http&i=1876545921&itscg=30200&itsct=lt_m&ls=1&mt=1",
        deezer: "https://www.deezer.com/en/album/916628261",
        qobuz: "https://www.qobuz.com/us-en/album/intergalactic-march-alexandr-misko/k1s01cm67hx5o",
        youtubeMusic: "https://music.youtube.com/playlist?list=OLAK5uy_nygG2B1DG-SdMZ-2VaUZXDpfi4_G09DiQ",
        amazonMusic: "https://music.amazon.com/albums/B0GMX8MK16"
      },
      tablatureBuyUrl: "https://alexandr-misko.myshopify.com/products/guitar-tab-alexandr-misko-intergalactic-march",
      umbrellaStreetUrl: "https://tr.ee/9VRrejZKWg",
      socialProfiles: {
        tiktok: ""
      },
      assets: {
        intergalacticCover: "assets/intergalactic-march.jpg",
        umbrellaCover: "assets/umbrella-street.jpg"
      },
      subscribe: {
        googleAppsScriptUrl: ""
      },
      analytics: {
        enabled: false,
        track: null
      }
    };

    const STREAMING_PLATFORMS = [
      { key: "spotify", label: "Spotify" },
      { key: "appleMusic", label: "Apple Music" },
      { key: "tidal", label: "TIDAL" },
      { key: "yandexMusic", label: "Yandex Music" },
      { key: "itunes", label: "iTunes" },
      { key: "deezer", label: "Deezer" },
      { key: "qobuz", label: "Qobuz" },
      { key: "youtubeMusic", label: "YouTube Music" },
      { key: "amazonMusic", label: "Amazon Music" }
    ];

    function trackEvent(eventName, detail = {}) {
      if (!PAGE_CONFIG.analytics || !PAGE_CONFIG.analytics.enabled) return;
      if (typeof PAGE_CONFIG.analytics.track === "function") {
        PAGE_CONFIG.analytics.track(eventName, detail);
      }
    }

    function setButtonHrefOrDisable(element, url) {
      if (!element) return;
      if (url && url.trim()) {
        element.href = url;
        element.classList.remove("disabled");
        element.removeAttribute("aria-disabled");
      } else {
        element.href = "#";
        element.classList.add("disabled");
        element.setAttribute("aria-disabled", "true");
      }
    }

    function isValidEmbedUrl(url) {
      return /^https:\/\/www\.youtube\.com\/embed\/[A-Za-z0-9_-]{6,}/.test(url);
    }

    function renderVideo() {
      const container = document.getElementById("videoContainer");
      if (!container) return;
      if (isValidEmbedUrl(PAGE_CONFIG.youtubeEmbedUrl)) {
        container.innerHTML = '<iframe src="' + PAGE_CONFIG.youtubeEmbedUrl + '" title="Intergalactic March video" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy"></iframe>';
      } else {
        container.innerHTML = '<p class="video-fallback">Video link will appear here when you add the YouTube embed URL.</p>';
      }
    }

    function renderStreamingLinks() {
      const grid = document.getElementById("streamGrid");
      if (!grid) return;
      grid.innerHTML = "";

      STREAMING_PLATFORMS.forEach((platform) => {
        const url = PAGE_CONFIG.streamingLinks[platform.key] || "";
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.className = "stream-link";
        a.target = "_blank";
        a.rel = "noopener noreferrer";

        if (url.trim()) {
          a.href = url;
          a.innerHTML = '<span>' + platform.label + '</span><span class="status-pill">Open</span>';
          a.addEventListener("click", () => trackEvent("stream_click", { platform: platform.key }));
        } else {
          a.href = "#";
          a.classList.add("disabled");
          a.setAttribute("aria-disabled", "true");
          a.innerHTML = '<span>' + platform.label + '</span><span class="status-pill">Coming soon</span>';
        }

        li.appendChild(a);
        grid.appendChild(li);
      });
    }

    function updateCountdown() {
      const daysEl = document.getElementById("daysValue");
      const hoursEl = document.getElementById("hoursValue");
      const minutesEl = document.getElementById("minutesValue");
      const secondsEl = document.getElementById("secondsValue");
      const stateEl = document.getElementById("countdownState");
      const chipSummaryEl = document.getElementById("chipSummary");
      const chipDaysEl = document.getElementById("chipDays");
      const chipHoursEl = document.getElementById("chipHours");
      const chipMinutesEl = document.getElementById("chipMinutes");
      const chipSecondsEl = document.getElementById("chipSeconds");
      const chipStateEl = document.getElementById("chipState");
      const target = new Date(PAGE_CONFIG.albumReleaseISO).getTime();
      const now = Date.now();
      const diff = target - now;

      if (Number.isNaN(target)) {
        if (stateEl) stateEl.textContent = "Countdown unavailable. Add a valid release date in PAGE_CONFIG.";
        if (chipSummaryEl) chipSummaryEl.textContent = "--d --h --m";
        if (chipStateEl) chipStateEl.textContent = "Countdown unavailable.";
        return;
      }

      if (diff <= 0) {
        if (daysEl) daysEl.textContent = "0";
        if (hoursEl) hoursEl.textContent = "0";
        if (minutesEl) minutesEl.textContent = "0";
        if (secondsEl) secondsEl.textContent = "0";
        if (stateEl) stateEl.textContent = "Final Boss is out now.";
        if (chipSummaryEl) chipSummaryEl.textContent = "OUT NOW";
        if (chipDaysEl) chipDaysEl.textContent = "0";
        if (chipHoursEl) chipHoursEl.textContent = "00";
        if (chipMinutesEl) chipMinutesEl.textContent = "00";
        if (chipSecondsEl) chipSecondsEl.textContent = "00";
        if (chipStateEl) chipStateEl.textContent = "Final Boss is out now.";
        return;
      }

      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const minutes = Math.floor((sec % 3600) / 60);
      const seconds = sec % 60;

      if (daysEl) daysEl.textContent = String(days);
      if (hoursEl) hoursEl.textContent = String(hours).padStart(2, "0");
      if (minutesEl) minutesEl.textContent = String(minutes).padStart(2, "0");
      if (secondsEl) secondsEl.textContent = String(seconds).padStart(2, "0");
      if (stateEl) stateEl.textContent = "Time remaining until album release.";
      if (chipSummaryEl) chipSummaryEl.textContent = days + "d " + String(hours).padStart(2, "0") + "h " + String(minutes).padStart(2, "0") + "m";
      if (chipDaysEl) chipDaysEl.textContent = String(days);
      if (chipHoursEl) chipHoursEl.textContent = String(hours).padStart(2, "0");
      if (chipMinutesEl) chipMinutesEl.textContent = String(minutes).padStart(2, "0");
      if (chipSecondsEl) chipSecondsEl.textContent = String(seconds).padStart(2, "0");
      if (chipStateEl) chipStateEl.textContent = "Time remaining until album release.";
    }

    function initCountdownChip() {
      const toggleBtn = document.getElementById("chipToggleBtn");
      const panel = document.getElementById("chipPanel");
      if (!toggleBtn || !panel) return;

      toggleBtn.addEventListener("click", () => {
        const open = panel.classList.toggle("open");
        toggleBtn.setAttribute("aria-expanded", open ? "true" : "false");
        toggleBtn.textContent = open ? "Minimize" : "Expand";
      });
    }

    function initSubscribeForm() {
      const form = document.getElementById("subscribeForm");
      const email = document.getElementById("emailInput");
      const note = document.getElementById("formNote");
      const websiteField = document.getElementById("websiteField");
      if (!form || !email || !note || !websiteField) return;

      form.addEventListener("submit", async (event) => {
        event.preventDefault();
        note.className = "form-note";

        if ((websiteField.value || "").trim()) {
          note.textContent = "Thanks. You are subscribed.";
          note.classList.add("success");
          form.reset();
          return;
        }

        const value = (email.value || "").trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!emailRegex.test(value)) {
          note.textContent = "Please enter a valid email address.";
          note.classList.add("error");
          return;
        }

        const endpoint = PAGE_CONFIG.subscribe && PAGE_CONFIG.subscribe.googleAppsScriptUrl
          ? PAGE_CONFIG.subscribe.googleAppsScriptUrl.trim()
          : "https://script.google.com/macros/s/AKfycbwdWBCWWLq-Q6sF-MdWB4bXa_3g4Fiot_f9-gjp0lQJXRhHwUnnXCAmH4AH3SR3RXrkoA/exec";

        if (!endpoint) {
          note.textContent = "Thanks. You are subscribed.";
          note.classList.add("success");
          trackEvent("subscribe_local_only", { email: value });
          form.reset();
          return;
        }

        const payload = new URLSearchParams();
        payload.set("email", value);
        payload.set("source", "intergalactic_march_landing");
        payload.set("page", window.location.href);
        payload.set("timestamp", new Date().toISOString());
        payload.set("userAgent", navigator.userAgent);
        payload.set("website", "");

        try {
          await fetch(endpoint, {
            method: "POST",
            mode: "no-cors",
            headers: {
              "Content-Type": "application/x-www-form-urlencoded"
            },
            body: payload.toString()
          });

          note.textContent = "Thanks. You are subscribed.";
          note.classList.add("success");
          trackEvent("subscribe_sent", { email: value });
          form.reset();
        } catch (_) {
          note.textContent = "Could not submit right now. Please try again.";
          note.classList.add("error");
        }
      });
    }

    async function copyShareLink() {
      const url = window.location.href;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        try {
          await navigator.clipboard.writeText(url);
          return true;
        } catch (_) {
          return false;
        }
      }
      return false;
    }

    function openShare(kind) {
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent("Intergalactic March by Alexandr Misko");
      const map = {
        x: "https://twitter.com/intent/tweet?url=" + url + "&text=" + text,
        facebook: "https://www.facebook.com/sharer/sharer.php?u=" + url,
        whatsapp: "https://api.whatsapp.com/send?text=" + text + "%20" + url
      };
      const target = map[kind];
      if (target) {
        window.open(target, "_blank", "noopener,noreferrer");
      }
    }

    function initShareActions() {
      const row = document.getElementById("shareRow");
      if (!row) return;

      row.addEventListener("click", async (event) => {
        const target = event.target;
        if (!(target instanceof HTMLElement)) return;
        const kind = target.getAttribute("data-share");
        if (!kind) return;

        if (kind === "copy") {
          const ok = await copyShareLink();
          target.textContent = ok ? "Link copied" : "Copy failed";
          setTimeout(() => {
            target.textContent = "Copy link";
          }, 1800);
          trackEvent("share_copy", { success: ok });
          return;
        }

        openShare(kind);
        trackEvent("share_click", { platform: kind });
      });
    }

    function initStaticLinks() {
      const buyTabBtn = document.getElementById("buyTabBtn");
      const umbrellaBtn = document.getElementById("umbrellaBtn");
      const tiktokLink = document.getElementById("tiktokLink");
      const yearValue = document.getElementById("yearValue");
      const heroArt = document.querySelector(".hero-art");
      const umbrellaCover = document.getElementById("umbrellaCover");

      setButtonHrefOrDisable(buyTabBtn, PAGE_CONFIG.tablatureBuyUrl);
      setButtonHrefOrDisable(umbrellaBtn, PAGE_CONFIG.umbrellaStreetUrl);
      setButtonHrefOrDisable(tiktokLink, PAGE_CONFIG.socialProfiles.tiktok);

      if (yearValue) {
        yearValue.textContent = String(new Date().getFullYear());
      }

      if (heroArt && PAGE_CONFIG.assets && PAGE_CONFIG.assets.intergalacticCover) {
        heroArt.style.background =
          'radial-gradient(100% 80% at 70% 40%, rgba(224, 97, 84, 0.17), transparent 60%), url("' +
          PAGE_CONFIG.assets.intergalacticCover +
          '") center 22% / cover no-repeat';
      }

      if (umbrellaCover && PAGE_CONFIG.assets && PAGE_CONFIG.assets.umbrellaCover) {
        umbrellaCover.src = PAGE_CONFIG.assets.umbrellaCover;
      }

      const tabPreviewImage = document.getElementById("tabPreviewImage");
      if (tabPreviewImage) {
        tabPreviewImage.addEventListener("error", () => {
          tabPreviewImage.style.display = "none";
        });
      }

      if (umbrellaCover) {
        umbrellaCover.addEventListener("error", () => {
          umbrellaCover.style.display = "none";
        });
      }
    }

    function initNavigationButtons() {
      const watchBtn = document.getElementById("watchVideoBtn");
      const streamBtn = document.getElementById("streamNowBtn");
      const stickyStreamBtn = document.getElementById("stickyStreamBtn");

      [watchBtn, streamBtn, stickyStreamBtn].forEach((btn) => {
        if (!btn) return;
        btn.addEventListener("click", () => trackEvent("cta_click", { id: btn.id }));
      });
    }

    function init() {
      renderVideo();
      renderStreamingLinks();
      initStaticLinks();
      initSubscribeForm();
      initShareActions();
      initNavigationButtons();
      initCountdownChip();
      updateCountdown();
      window.setInterval(updateCountdown, 1000);
    }

    init();
  </script>
</body>
</html>
